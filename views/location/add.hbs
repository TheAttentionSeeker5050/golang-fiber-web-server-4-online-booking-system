{{> 'partials/header' }}
<title>Online Booking System - {{Title}}</title>
<main>
    <h1>{{Title}}</h1>
    <section id="top-profile-wrapper" class="">
        <a href="/locations" class="btn btn-primary">Back to Locations</a>
        <form id="add-location-form" class="base-crud-form" action="/locations/add" method="POST">
            <div class="form-group">
                <label for="name">Name</label>
                <input type="text" id="name" name="name" placeholder="Location name" required>
            </div>

            <div class="form-group">
                <label for="address">Address</label>
                <input type="text" id="address" name="address" placeholder="Location address" >
            </div>

            <div class="form-group">
                <label for="city">City</label>
                <input type="text" id="city" name="city" placeholder="City" >
            </div>

            <div class="form-group">
                <label for="state">State</label>
                <input type="text" id="state" name="state" placeholder="State" >
            </div>

            <div class="form-group">
                <label for="zip">Zip</label>
                <input type="text" id="zip" name="zip" placeholder="Zip" >
            </div>

            <div class="form-group">
                <label for="country">Country</label>
                <input type="text" id="country" name="country" placeholder="Country" >
            </div>

            <div class="form-group">
                <label for="email">Email</label>
                <input type="email" id="email" name="email" placeholder="Email" >
            </div>

            <div class="form-group">
                <label for="phone">Phone</label>
                <input type="text" id="phone" name="phone" placeholder="Phone" >
            </div>

            <div class="form-group">
                <label for="organizationID">Organization</label>
                <select id="organizationID" name="organizationID">
                    {{#each Organizations}}
                        <option value="{{this.IDString}}">{{this.name}}</option>
                    {{/each}}
                </select>
            </div>

            <button type="submit" class="btn btn-primary">Add Location</button>
        </form>
    </section>
    
    {{!-- display form errors --}}
    <section id="form-errors" class="form-errors">
        <ul>
            {{!-- errors convert stringified array to array --}}
            {{#each Errors}}
                <li>{{this}}</li>
            {{/each}}
        </ul>
    </section>

    {{!-- display success message --}}
    <section id="success-message" class="success-message">
        {{#if Success}}
            <p>Locations created successfully</p>
            <p>Redirecting to Locations page...</p>
            <script>
                setTimeout(() => {
                    window.location.href = '/location';
                }, 3000);
            </script>
        {{/if}}
    </section>
</main>

<script src="/public/js/zepto.min.js"></script>
<script type="module" src="/public/js/process-crud-form.js"></script>

{{> 'partials/footer' }}